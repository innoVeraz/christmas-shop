(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const z="/christmas-shop/products/belysning/lampa1.webp",G="/christmas-shop/products/belysning/lampa2.webp",Z="/christmas-shop/products/belysning/lampa3.webp",F="/christmas-shop/products/belysning/ljusslinga1.webp",W="/christmas-shop/products/belysning/ljusslinga2.webp",_="/christmas-shop/products/kuddar/pillow102.jpg",Q="/christmas-shop/products/kuddar/pillow103.webp",V="/christmas-shop/products/kuddar/pillow104.webp",X="/christmas-shop/products/kuddar/pillow105.webp",Y="/christmas-shop/products/kuddar/pillow106.webp",ee="/christmas-shop/products/kuddar/pillow107.webp",te="/christmas-shop/products/kuddar/pillow108.webp",re="/christmas-shop/products/dekorationer/bell.jpg",ae="/christmas-shop/products/dekorationer/candycane.jpg",ne="/christmas-shop/products/dekorationer/ornament.jpg",oe="/christmas-shop/products/dekorationer/wreath.jpg",ie="/christmas-shop/products/dekorationer/wreath2.webp",se="/christmas-shop/products/dekorationer/wreath3.webp",ce="/christmas-shop/products/dekorationer/wreath4.webp",le="/christmas-shop/products/krukor/pot10.webp",ue="/christmas-shop/products/krukor/pot11.webp",de="/christmas-shop/products/krukor/pot12.webp",me="/christmas-shop/products/krukor/pot13.webp",ge="/christmas-shop/products/krukor/pot14.webp",pe="/christmas-shop/products/krukor/pot15.webp",ke="/christmas-shop/products/krukor/pot16.webp",he="/christmas-shop/products/leksaker/car.webp",fe="/christmas-shop/products/leksaker/doll.webp",ye="/christmas-shop/products/leksaker/robot.webp",be="/christmas-shop/products/leksaker/spinner.webp",ve="/christmas-shop/products/leksaker/teddybear.webp",we="/christmas-shop/products/leksaker/teddybunny.webp",D=[{name:"Lampa gran",id:0,price:199,rating:4,amount:0,sum:0,img:[z],category:["belysning","alla"]},{name:"Lampa sn\xF6flinga",id:1,price:299,rating:5,amount:0,sum:0,img:[G],category:["belysning","alla"]},{name:"Lampa med klockformad fot",id:2,price:149,rating:3,amount:0,sum:0,img:[Z],category:["belysning","alla"]},{name:"Ljusslinga inomhusbruk",id:3,price:89,rating:4,amount:0,sum:0,img:[F],category:["belysning","alla"]},{name:"Ljusslinga utomhusbruk",id:4,price:129,rating:5,amount:0,sum:0,img:[W],category:["belysning","alla"]},{name:"Kudde i linne",id:5,price:199,rating:3,amount:0,sum:0,img:[_],category:["tyger","alla"]},{name:"Linnekudde med m\xF6nster",id:6,price:249,rating:4,amount:0,sum:0,img:[Q],category:["tyger","alla"]},{name:"Kuddfodral",id:7,price:179,rating:3,amount:0,sum:0,img:[V],category:["tyger","alla"]},{name:"Kudde i linne med stj\xE4rnmotiv",id:8,price:299,rating:5,amount:0,sum:0,img:[X],category:["tyger","alla"]},{name:"Julig kudde med broderi",id:9,price:159,rating:4,amount:0,sum:0,img:[Y],category:["tyger","alla"]},{name:"R\xF6d kudde med broderi",id:10,price:199,rating:3,amount:0,sum:0,img:[ee],category:["tyger","alla"]},{name:"R\xF6d kudde med tryck",id:11,price:279,rating:4,amount:0,sum:0,img:[te],category:["tyger","alla"]},{name:"Dekoration till granen",id:12,price:99,rating:4,amount:0,sum:0,img:[re],category:["dekoration","alla"]},{name:"Godisk\xE4pp i plast f\xF6r granen",id:13,price:69,rating:3,amount:0,sum:0,img:[ae],category:["dekoration","alla"]},{name:"Julgranskula",id:14,price:49,rating:4,amount:0,sum:0,img:[ne],category:["dekoration","alla"]},{name:"Dekorationskrans till d\xF6rren.",id:15,price:249,rating:5,amount:0,sum:0,img:[oe],category:["dekoration","alla"]},{name:"Dekorationskrans till d\xF6rren.",id:16,price:199,rating:4,amount:0,sum:0,img:[ie],category:["dekoration","alla"]},{name:"Dekorationskrans till d\xF6rren.",id:17,price:179,rating:3,amount:0,sum:0,img:[se],category:["dekoration","alla"]},{name:"Dekorationskrans till d\xF6rren.",id:18,price:229,rating:4,amount:0,sum:0,img:[ce],category:["dekoration","alla"]},{name:"Kruka",id:19,price:149,rating:4,amount:0,sum:0,img:[le],category:["krukor","alla"]},{name:"Kruka",id:20,price:199,rating:5,amount:0,sum:0,img:[ue],category:["krukor","alla"]},{name:"Kruka",id:21,price:179,rating:3,amount:0,sum:0,img:[de],category:["krukor","alla"]},{name:"Kruka",id:22,price:129,rating:4,amount:0,sum:0,img:[me],category:["krukor","alla"]},{name:"Kruka",id:23,price:189,rating:5,amount:0,sum:0,img:[ge],category:["krukor","alla"]},{name:"Kruka",id:24,price:209,rating:4,amount:0,sum:0,img:[pe],category:["krukor","alla"]},{name:"Kruka",id:25,price:149,rating:3,amount:0,sum:0,img:[ke],category:["krukor","alla"]},{name:"Leksaksbil",id:26,price:99,rating:4,amount:0,sum:0,img:[he],category:["leksaker","alla"]},{name:"Docka",id:27,price:199,rating:5,amount:0,sum:0,img:[fe],category:["leksaker","alla"]},{name:"Robot",id:28,price:599,rating:5,amount:0,sum:0,img:[ye],category:["leksaker","alla"]},{name:"Spinner",id:29,price:49,rating:3,amount:0,sum:0,img:[be],category:["leksaker","alla"]},{name:"Teddybj\xF6rn",id:30,price:299,rating:5,amount:0,sum:0,img:[ve],category:["leksaker","alla"]},{name:"Mjukis kanin",id:31,price:349,rating:4,amount:0,sum:0,img:[we],category:["leksaker","alla"]}],E=document.querySelector(".hamburger-menu-icon"),g=document.querySelector(".mobile-nav"),K=document.querySelector(".desktop-nav"),m=document.querySelector(".scroll-to-top-btn"),q=document.querySelector(".view-all-products-btn"),T=document.querySelector(".close-cart"),k=document.getElementById("button-sound"),C=document.getElementById("placeOrderBtn");m==null||m.addEventListener("click",R);q==null||q.addEventListener("click",Ce);C==null||C.addEventListener("click",Se);T==null||T.addEventListener("click",Le);function Le(){U.classList.remove("open")}function Se(){y&&b&&v&&L&&w&&(Te(),Ee("Tack f\xF6r din best\xE4llning! Bekr\xE4ftelse skickas med e-post. God Jul!"),J())}function Ee(t){const e=document.getElementById("toast-container"),r=document.createElement("div");r.classList.add("toast"),r.innerHTML=`
    <i class="fa fa-check-circle"></i>
    ${t}
  `,e.appendChild(r)}function qe(t,e){let r=t.volume;const a=e||8e3,n=50,o=r/(a/n),p=setInterval(()=>{r>0?(r=Math.max(0,r-o),t.volume=r):(clearInterval(p),t.pause(),t.currentTime=0)},n)}function Te(){k&&(k.volume=1,k.currentTime=0,k.play().catch(t=>{console.error("Error playing the sound:",t)}),setTimeout(()=>{qe(k,8e3)},2e3))}function Ce(){window.location.href="product-page.html"}K&&g&&($e(),Ie());E==null||E.addEventListener("click",t=>{t.stopPropagation(),g.classList.add("open")});function Oe(t,e){document.addEventListener("click",r=>{t.contains(r.target)||e()})}Oe(g,()=>{g.classList.remove("open")});function Ie(){const t=[...g.getElementsByTagName("a"),...K.getElementsByTagName("a")];for(let e=0;e<t.length;e++)document.location.href===t[e].href&&(t[e].className="active")}function $e(){const t=` <h3 class="nav-header">Kategorier</h3>
    <ul>
      <li><a href="product-page.html">Alla produkter</a></li>
      <li><a href="product-page.html?category=belysning">Belysning</a></li>
      <li><a href="product-page.html?category=dekoration">Dekoration</a></li>
      <li><a href="product-page.html?category=krukor">Krukor</a></li>
      <li><a href="product-page.html?category=leksaker">Leksaker</a></li>
      <li><a href="product-page.html?category=tyger">Tyger</a></li>
    </ul>`;g.innerHTML=t,K.innerHTML=t}function R(){window.scrollTo(0,0)}const U=document.querySelector(".shopping-cart"),H=document.querySelector(".shopping-cart-content"),Ne=document.querySelector(".shopping-cart-footer"),O=document.querySelector(".gift-icon"),B=document.querySelector(".cart-item-number");let i=JSON.parse(localStorage.getItem("CART"))||[];O==null||O.addEventListener("click",Ae);h();function h(){Ke(),A(),B&&Me(),localStorage.setItem("CART",JSON.stringify(i))}function Me(){const t=i.reduce((e,r)=>e=e+r.numberOfUnits,0);B.innerHTML=t}function Ae(){U.classList.toggle("open")}function je(t){i=i.filter(e=>e.id!==t),h()}function Ke(){H.innerHTML="",i.forEach(a=>{H.innerHTML+=`
   
      <article class="cart-item-wrapper">
        <div class="cart-img"><img src="${a.img[0]}" width="auto" height="200" alt="${a.name}"></div>
        
        <div class="cart-details-wrapper">
          <button class="trash-can" data-id="${a.id}"><i class="fa-regular fa-trash-can"></i></button>
         
          <div class="cart-btns-wrapper">
            <button class="minus-btn" data-id="${a.id}" type="button">-</button>
            <div class="units">${a.numberOfUnits}</div>
            <button class="plus-btn" data-id="${a.id}" type="button">+</button>
          </div>
          <div class="item-price">${a.price}kr/st</div>
          
        </div>
      </article>
      `});const t=document.querySelectorAll(".minus-btn"),e=document.querySelectorAll(".plus-btn"),r=document.querySelectorAll(".trash-can");i.forEach((a,n)=>{t[n].addEventListener("click",function(o){j("minus",parseInt(o.currentTarget.dataset.id))}),e[n].addEventListener("click",function(o){j("plus",parseInt(o.currentTarget.dataset.id))}),r[n].addEventListener("click",function(o){je(parseInt(o.currentTarget.dataset.id))})})}function A(t=!1){let e=0;const r=49;i.forEach(o=>{e+=o.price*o.numberOfUnits});let a="";t&&(e=e*.8,a=`  <div>Rabatt:</div>
    <div class="rebate-amount-number">- 20%</div>`);const n=e+r;Ne.innerHTML=`
  <div>Best\xE4llningsv\xE4rde:</div>
  <div>${e.toFixed(2)}</div>
  ${a}
  <div>Leverans:</div>
  <div>${r.toFixed(2)}</div>
  <div>Totalt att betala:</div>
  <div><strong>${n.toFixed(2)}</strong></div>
  <a class="go-to-checkout" href="checkout.html">G\xE5 till kassan</a>
  
  `}function He(t){if(i.some(e=>e.id===t))j("plus",t);else{const e=D.find(r=>r.id===t);i.push({...e,numberOfUnits:1})}h()}function j(t,e){i=i.map(r=>{let a=r.numberOfUnits;return r.id===e&&(t==="minus"&&a>1?a--:t==="plus"&&a++),{...r,numberOfUnits:a}}),h()}const I=document.querySelector(".product-container"),xe=window.location.search.split("?category=")[1]||"alla",$=document.querySelector(".drop-down-sort");$==null||$.addEventListener("change",Re);function P(t){!I||(I.innerHTML="",D.filter(e=>e.category.includes(xe)).sort((e,r)=>Ue(e,r,t)).forEach(e=>{I.innerHTML+=`
    <article class="product-information">
      <img src="${e.img[0]}" alt="${e.alt}">
      <div class="rating-and-price">
        ${De(e.rating)}
      </div>
      <h3>${e.name}</h3>
      <div class="price">${e.price} kr</div>
      <button class="add-to-cart" data-id="${e.id}">
        <span class="button-text">L\xE4gg till</span>
        <div class="success-checkmark" style="display: none;">
          <div class="check-icon">
            <span class="icon-line line-tip"></span>
            <span class="icon-line line-long"></span>
            <div class="icon-circle"></div>
            <div class="icon-fix"></div>
          </div>
        </div>
      </button>
    </article>`}),document.querySelectorAll(".add-to-cart").forEach(e=>{e.addEventListener("click",function(r){const a=r.currentTarget,n=a.querySelector(".button-text"),o=a.querySelector(".success-checkmark");He(parseInt(a.dataset.id)),n.style.display="none",a.style.backgroundColor="green",o.style.display="block",setTimeout(()=>{o.style.display="none",n.style.display="block",a.style.backgroundColor="black"},2e3)})}))}P();function De(t){let e="";for(let r=1;r<=5;r++)r<=t?e+=`
        <i class="fa-regular fa-snowflake color-rating"></i>
        `:e+=`
        <i class="fa-regular fa-snowflake rating-color-none"></i>
        `;return e}function Re(t){P(t.target.value)}function Ue(t,e,r){switch(r){case"pris-stigande":return t.price-e.price;case"pris-fallande":return e.price-t.price;case"rating-stigande":return t.rating-e.rating;case"rating-fallande":return e.rating-t.rating;default:return 0}}const l=document.querySelector("#email"),s=document.querySelector("#full-name"),u=document.querySelector("#adress"),d=document.querySelector("#city"),c=document.querySelector("#zip-code"),N=document.querySelector(".use-rebate-btn"),x=document.querySelector("#placeOrderBtn"),M=document.querySelector(".abort-order-btn");let y=!1,b=!1,v=!1,w=!1,L=!1;l==null||l.addEventListener("change",Je);s==null||s.addEventListener("change",ze);u==null||u.addEventListener("change",Ge);c==null||c.addEventListener("change",Ze);d==null||d.addEventListener("change",Fe);M==null||M.addEventListener("click",J);m==null||m.addEventListener("click",R);function J(){i=[],h(),l.value="",s.value="",u.value="",c.value="",d.value=""}const Be=document.querySelector("#rebate-code");let f=document.querySelector("#rebate-message");N==null||N.addEventListener("click",Pe);function Pe(){Be.value==="jul-2024"?(f.innerHTML="Du har f\xE5tt rabatt!",f.style.color="green",A(!0)):(f.innerHTML="Rabattkoden \xE4r inte giltig",f.style.color="red",A())}function Je(){We(l.value)?(y=!0,l.style.borderColor="black"):(y=!1,l.style.borderColor="red")}function ze(){s.value.length>0&&s.value.indexOf(" ")>-1?(b=!0,s.style.borderColor="black"):(b=!1,s.style.borderColor="red"),S()}function Ge(){u.value.length>0?(v=!0,u.style.borderColor="black"):(v=!1,u.style.borderColor="red"),S()}function Ze(){c.value.replace(" ","").length===5&&Number(c.value.replace(" ",""))!==NaN?(L=!0,c.style.borderColor="black"):(L=!1,c.style.borderColor="red"),S()}function Fe(){d.value.length>0?(w=!0,d.style.borderColor="black"):(w=!1,d.style.borderColor="red"),S()}function S(){y&&b&&v&&L&&w?x.removeAttribute("disabled"):x.setAttribute("disabled",!0)}function We(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}
